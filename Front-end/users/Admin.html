<!DOCTYPE html>
<html lang="th">

<head>
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adminpage</title>
  <link rel="stylesheet" href="Administrator.css">
  <script defer src="script.js"></script>
</head>
<!-- id : user06: { password: "6789", role: "Administrator" }, -->

<body>
  <header class="top-bar">
    <img src="../Image/logo.png" alt="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏•‡∏Å‡∏∏‡∏•‡∏à‡∏¥‡∏ô‡∏ï‡πå" class="logo">
    <h1>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏•‡∏Å‡∏∏‡∏•‡∏à‡∏¥‡∏ô‡∏ï‡πå</h1>
  </header>

  <div class="main-layout">
    <aside class="sidebar">
      <div class="admin-profile">
        <img src="../users/imguser/Nong.png" alt="Admin" />
        <p>‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</p>
        <button onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
      <nav class="sidebar-menu">
        <details>
          <summary>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</summary>
          <button onclick="showSection('activity')">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
          <button onclick="showSection('award')">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</button>
          <button onclick="showSection('visitor')">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</button>
          <button onclick="showSection('news')">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</button>
          <button onclick="showSection('auntieNews')">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏õ‡πâ‡∏≤‡πÄ‡∏à‡∏µ‡πä‡∏¢‡∏ö</button>
          <button onclick="showSection('students')">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
          <button onclick="showSection('addstudent')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
        </details>
        <details>
          <summary>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</summary>
          <button onclick="showSection('schedule')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
          <button onclick="showSection('editSchedule')">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
        </details>
      </nav>
    </aside>

    <main class="content-area">
      <!-- ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
      <section id="activity" class="content-section hidden">
        <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
        <form id="activityForm" enctype="multipart/form-data" style="margin-bottom:20px;">
          <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:<br>
            <textarea name="detail" required rows="3" style="width:100%;"></textarea>
          </label><br>
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:<br>
            <input type="file" name="images" id="activityImages" accept="image/*" multiple required>
          </label><br>
          <button type="submit">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
          <span id="uploadLoading" style="display:none;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î...</span>
        </form>
        <h3>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <div id="activityGallery"></div>
        <div id="activityModal" class="modal" style="display:none;">
          <div class="modal-content">
            <span id="closeActivityModal" class="close">&times;</span>
            <img id="activityModalImg" src="" alt="activity" style="max-width:100%;margin-bottom:12px;">
            <div id="activityModalDetail"></div>
            <div id="activityModalActions"></div>
          </div>
        </div>
      </section>

      <!-- ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• -->
      <section id="award" class="content-section hidden">
        <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
        <form id="awardForm" enctype="multipart/form-data">
          <label for="awardImage">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</label>
          <input type="file" id="awardImage" name="image" required title="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" />
          <label for="awardWinner">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</label>
          <input type="text" id="awardWinner" name="winner" required title="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" />
          <label for="awardName">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</label>
          <input type="text" id="awardName" name="awardName" required title="‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" />
          <label for="awardDetail">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</label>
          <textarea id="awardDetail" name="detail" required title="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•"></textarea>
          <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </form>
        <div id="awardGallery" class="gallery">
        </div>
      </section>

      <!-- ‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏° -->
      <section id="visitor" class="content-section hidden">
        <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</h2>
        <form id="visitorForm" enctype="multipart/form-data">
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°:</label>
          <input type="file" name="images" id="visitorImages" multiple>
          <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°:</label>
          <textarea name="detail" required></textarea>
          <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </form>
        <div id="visitorGallery" class="gallery"></div>
      </section>

      <!-- ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£ -->
      <section id="news" class="content-section hidden">
        <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</h2>
        <form id="newsForm">
          <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß:</label>
          <input type="text" name="title" required />
          <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</label>
          <textarea name="detail" required></textarea>
          <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </form>
        <ul id="newsList"></ul>
      </section>

      <!-- ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
      <section id="students" class="content-section hidden">
        <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <div id="studentGroups"></div>
      </section>

      <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
      <section id="studentTableSection" class="content-section">
        <h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <div id="studentTableContainer"></div>
      </section>

      <!-- ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏õ‡πâ‡∏≤‡πÄ‡∏à‡∏µ‡πä‡∏¢‡∏ö -->
      <section id="auntieNews" class="content-section hidden">
        <h2>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏õ‡πâ‡∏≤‡πÄ‡∏à‡∏µ‡πä‡∏¢‡∏ö</h2>
        <form id="auntieNewsForm">
          <label for="auntieNewsTitle">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß:</label>
          <input type="text" id="auntieNewsTitle" name="title" required />
          <label for="auntieNewsContent">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß:</label>
          <textarea id="auntieNewsContent" name="content" required></textarea>
          <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </form>
        <ul id="auntieNewsList"></ul>
      </section>

      <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
      <section id="addstudent" class="content-section hidden">
        <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <form id="addStudentForm">
          <label for="studentId">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
          <input type="text" id="studentId" name="studentId" required />

          <label for="studentFirstName">‡∏ä‡∏∑‡πà‡∏≠:</label>
          <input type="text" id="studentFirstName" name="firstName" required />

          <label for="studentLastName">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label>
          <input type="text" id="studentLastName" name="lastName" required />

          <label for="studentNickname">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô:</label>
          <input type="text" id="studentNickname" name="nickname" required />

          <label for="studentClass">‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
          <select id="studentClass" name="class" required>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
            <option value="‡∏õ.1">‡∏õ.1</option>
            <option value="‡∏õ.2">‡∏õ.2</option>
            <option value="‡∏õ.3">‡∏õ.3</option>
          </select>
          <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </form>
      </section>
      <section id="schedule" class="content-section hidden">
        <h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:
          <select id="scheduleClassSelect" required>
            <option value="" disabled selected hidden>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
            <option value="‡∏õ.1/1">‡∏õ.1/1</option>
            <option value="‡∏õ.2/1">‡∏õ.2/1</option>
            <option value="‡∏õ.3/1">‡∏õ.3/1</option>
          </select>
        </label>
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô:
          <select id="scheduleDaySelect">
            <option value="">‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</option>
            <option value="‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå">‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</option>
            <option value="‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£">‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</option>
            <option value="‡∏û‡∏∏‡∏ò">‡∏û‡∏∏‡∏ò</option>
            <option value="‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ">‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ</option>
            <option value="‡∏®‡∏∏‡∏Å‡∏£‡πå">‡∏®‡∏∏‡∏Å‡∏£‡πå</option>
          </select>
        </label>
        <button id="showScheduleBtn" type="button">‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
        <div id="showScheduleTableContainer" style="margin-top:24px;"></div>
      </section>
      <section id="editSchedule" class="content-section hidden">
        <h2>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:
          <select id="editScheduleClassSelect" required>
            <option value="" disabled selected hidden>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1">üßíüèª ‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2">üßíüèº ‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
            <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3">üßíüèΩ ‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
            <option value="‡∏õ.1/1">üìò ‡∏õ.1/1</option>
            <option value="‡∏õ.2/1">üìó ‡∏õ.2/1</option>
            <option value="‡∏õ.3/1">üìô ‡∏õ.3/1</option>
          </select>
        </label>
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô:
          <select id="editScheduleDaySelect" required>
            <option value="" disabled selected hidden>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô</option>
            <option value="‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå">‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</option>
            <option value="‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£">‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</option>
            <option value="‡∏û‡∏∏‡∏ò">‡∏û‡∏∏‡∏ò</option>
            <option value="‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ">‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ</option>
            <option value="‡∏®‡∏∏‡∏Å‡∏£‡πå">‡∏®‡∏∏‡∏Å‡∏£‡πå</option>
          </select>
        </label>
        <button id="showScheduleTableBtn" type="button">‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
        <div id="editScheduleFormContainer"></div>
        <div id="scheduleTableContainer" style="margin-top:24px;"></div>
      </section>

      <!-- Modal ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
      <div id="editStudentModal" class="modal" style="display:none;">
        <div class="modal-content">
          <span id="closeEditModal" class="close">&times;</span>
          <h2>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
          <form id="editStudentForm">
            <input type="hidden" id="editStudentId" />
            <label>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
            <input type="text" id="editStudentIdInput" required />
            <label>‡∏ä‡∏∑‡πà‡∏≠:</label>
            <input type="text" id="editStudentFirstName" required />
            <label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label>
            <input type="text" id="editStudentLastName" required />
            <label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô:</label>
            <input type="text" id="editStudentNickname" required />
            <label>‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
            <select id="editStudentClass" required>
              <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
              <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
              <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
              <option value="‡∏õ.1/1">‡∏õ.1/1</option>
              <option value="‡∏õ.2/1">‡∏õ.2/1</option>
              <option value="‡∏õ.3/1">‡∏õ.3/1</option>
            </select>
            <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          </form>
        </div>
      </div>
    </main>
  </div>
  <div id="visitorModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span id="closeVisitorModal" class="close" style="cursor:pointer;font-size:2em;">&times;</span>
      <img id="visitorModalImg" src="" alt="visitor" style="max-width:100%;margin-bottom:12px;">
      <div id="visitorModalDetail"></div>
    </div>
  </div>
</body>
<script>
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö token ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
  window.onload = async function () {
    const token = localStorage.getItem('token');
    if (!token) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô');
      window.location.href = "../main/login.html";
      return;
    }

    try {
      const res = await fetch('http://localhost:3000/verify-token', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${token}`,
          'Cache-Control': 'no-cache'
        }
      });

      if (!res.ok) {
        throw new Error("Token ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      }

      // Token ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
    } catch (err) {
      alert('Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà');
      localStorage.clear();
      window.location.href = "../main/login.html";
    }
  };

  // logout function
  function logout() {
    const token = localStorage.getItem('token');
    if (token) {
      fetch('http://localhost:3000/logout', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${token}`
        }
      }).finally(() => {
        localStorage.clear();

        // Force reload ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ cache
        window.location.replace('../main/login.html');
      });
    } else {
      localStorage.clear();
      window.location.replace('../main/login.html');
    }
  }

  // showSection function
  function showSection(id) {
    document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
    const sec = document.getElementById(id);
    if (sec) sec.classList.remove('hidden');
  }

  // --- Award Section ---
  document.addEventListener('DOMContentLoaded', function () {
    // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    async function loadAwards() {
      const res = await fetch('http://localhost:3000/awards');
      return await res.json();
    }
    // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    async function renderAwardGallery() {
      const gallery = document.getElementById('awardGallery');
      if (!gallery) return;
      gallery.innerHTML = '<div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>';
      const awards = await loadAwards();
      gallery.innerHTML = '';
      const validAwards = awards.filter(a => a && a.id && a.detail && a.detail.trim() !== '');
      validAwards.forEach(award => {
        const card = document.createElement('div');
        card.className = 'award-card';
        card.innerHTML = `
            <img src="http://localhost:3000${award.imagePath}" alt="‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•" class="award-img" style="width:120px;height:120px;object-fit:cover;border-radius:8px;margin:4px;">
            <div class="award-detail">${award.detail || ''}</div>
            <div style="margin-top:8px;">
                <button onclick="editAward('${award.id}')">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                <button onclick="deleteAward('${award.id}')">‡∏•‡∏ö</button>
            </div>
        `;
        gallery.appendChild(card);
      });
    }
    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà (form POST)
    window.addAward = async function (e) {
      e.preventDefault();
      const form = document.getElementById('awardForm');
      const formData = new FormData(form);
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥
      const allAwards = await loadAwards();
      const winner = formData.get('winner') || '';
      const awardName = formData.get('awardName') || '';
      const detail = formData.get('detail') || '';
      const isDuplicate = allAwards.some(item =>
        item.winner === winner &&
        item.awardName === awardName &&
        item.detail === detail
      );
      if (isDuplicate) {
        const confirmDup = confirm('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?');
        if (!confirmDup) return;
      }
      const res = await fetch('http://localhost:3000/awards', {
        method: 'POST',
        body: formData
      });
      if (res.ok) {
        alert('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        form.reset();
        renderAwardGallery();
      } else {
        alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•');
      }
    };
    // ‡∏•‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
    window.deleteAward = async function (id) {
      if (!confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏µ‡πâ?')) return;
      const res = await fetch(`http://localhost:3000/awards/${id}`, { method: 'DELETE' });
      if (res.ok) {
        alert('‡∏•‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        renderAwardGallery();
      } else {
        alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö');
      }
    };
    // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (prompt detail ‡πÉ‡∏´‡∏°‡πà)
    window.editAward = async function (id) {
      const awards = await loadAwards();
      const award = awards.find(a => a.id == id);
      if (!award) return alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•');
      const newDetail = prompt('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:', award.detail);
      if (newDetail !== null && newDetail !== award.detail) {
        const res = await fetch(`http://localhost:3000/awards/${id}`, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ detail: newDetail })
        });
        if (res.ok) {
          alert('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
          renderAwardGallery();
        } else {
          alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç');
        }
      }
    };
    // ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏±‡∏ö addAward
    const awardForm = document.getElementById('awardForm');
    if (awardForm) awardForm.addEventListener('submit', window.addAward);
    if (document.getElementById('awardGallery')) renderAwardGallery();
  });
</script>
</body>
</html>